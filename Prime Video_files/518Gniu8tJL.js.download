(()=>{var e,t={"./node_modules/@amzn/dvui/dist/HeadingBlock.js":function(e,t,r){var n;r("./node_modules/@amzn/dvui/dist/HeadingBlock.css"),"undefined"!=typeof self&&self,n=e=>(()=>{var t={"./node_modules/classnames/index.js":(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=s.apply(null,r);i&&e.push(i)}else if("object"===o)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},"./src/components/HeadingBlock/HeadingBlock.module.scss":e=>{e.exports={headingBlock:"mA3s3y g1TQVQ",swipableHeadingBlockContainer:"_3wONUY"}},"./src/common/baseProps.ts":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseProps=void 0,t.baseProps=function(e){const t={};return e.testID&&(t["data-automation-id"]=e.testID,t["data-testid"]=e.testID),t}},"./src/common/extractClassNamesFromProps.ts":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractClassNamesFromProps=t.extractClassObjectFromProps=t.BaseComponentProps=void 0;const n=r("./node_modules/classnames/index.js");var s=r("./src/common/baseProps.ts");Object.defineProperty(t,"BaseComponentProps",{enumerable:!0,get:function(){return s.BaseComponentProps}}),t.extractClassObjectFromProps=e=>{const t={};return e.className&&(t[e.className]=!0),t},t.extractClassNamesFromProps=(e,...r)=>n(...r,(0,t.extractClassObjectFromProps)(e))},react:t=>{"use strict";t.exports=e}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}var s={};return(()=>{"use strict";var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.HeadingBlock=void 0;const t=n("react"),r=n("./src/common/baseProps.ts"),o=n("./src/common/extractClassNamesFromProps.ts"),i=n("./src/components/HeadingBlock/HeadingBlock.module.scss");class a extends t.Component{constructor(){super(...arguments),this.displayName="HeadingBlock"}render(){const e=(0,o.extractClassNamesFromProps)(this.props,i.headingBlock),n=t.createElement("div",{className:e},this.props.children);return this.props.swipable?t.createElement("div",{...(0,r.baseProps)(this.props),className:i.swipableHeadingBlockContainer},n):n}}e.HeadingBlock=a})(),s})(),e.exports=n(r("./node_modules/react/index.js"))},"./node_modules/@amzn/kirup/dist/src/@types/configuration.js":(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Transports=t.Environment=void 0,function(e){e[e.DOM=1]="DOM",e[e.NODE=2]="NODE",e[e.WEBWORKER=3]="WEBWORKER",e[e.SERVICEWORKER=4]="SERVICEWORKER"}(r||(t.Environment=r={})),function(e){e[e.MINERVA=1]="MINERVA",e[e.METRICAGENT=2]="METRICAGENT",e[e.INSIGHTS=3]="INSIGHTS",e[e.CONSOLE=4]="CONSOLE",e[e.RTLA=5]="RTLA"}(n||(t.Transports=n={}))},"./node_modules/@amzn/kirup/dist/src/@types/storage.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogTypes=void 0,t.LogTypes=["debug","info","warn","error","fatal","count"]},"./node_modules/@amzn/kirup/dist/src/browser.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.RTLA_RECOMMENDED=t.INSIGHTS_RECOMMENDED=t.MINERVA_RECOMMENDED=t.CONSOLE_RECOMMENDED=t.KirupLogger=void 0;var o=r("./node_modules/@amzn/kirup/dist/src/kirup.browser.js");Object.defineProperty(t,"KirupLogger",{enumerable:!0,get:function(){return o.KirupLogger}});var i=r("./node_modules/@amzn/kirup/dist/src/configuration/console.js");Object.defineProperty(t,"CONSOLE_RECOMMENDED",{enumerable:!0,get:function(){return i.CONSOLE_RECOMMENDED}});var a=r("./node_modules/@amzn/kirup/dist/src/configuration/minerva.js");Object.defineProperty(t,"MINERVA_RECOMMENDED",{enumerable:!0,get:function(){return a.MINERVA_RECOMMENDED}});var c=r("./node_modules/@amzn/kirup/dist/src/configuration/insights.js");Object.defineProperty(t,"INSIGHTS_RECOMMENDED",{enumerable:!0,get:function(){return c.INSIGHTS_RECOMMENDED}});var l=r("./node_modules/@amzn/kirup/dist/src/configuration/rtla.js");Object.defineProperty(t,"RTLA_RECOMMENDED",{enumerable:!0,get:function(){return l.RTLA_RECOMMENDED}}),s(r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js"),t)},"./node_modules/@amzn/kirup/dist/src/configuration/console.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSOLE_RECOMMENDED=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js");t.CONSOLE_RECOMMENDED={name:n.Transports.CONSOLE,support:[n.Environment.DOM,n.Environment.NODE],persistence:!1,canHandleErrorObject:!0,retries:0,maxDataAge:3e5,maxRateLimit:1e4,maxBatchSize:0}},"./node_modules/@amzn/kirup/dist/src/configuration/insights.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INSIGHTS_RECOMMENDED=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js");t.INSIGHTS_RECOMMENDED={name:n.Transports.INSIGHTS,support:[n.Environment.DOM],persistence:!1,canHandleErrorObject:!1,retries:3,maxDataAge:3e5,maxRateLimit:1e4,maxBatchSize:20}},"./node_modules/@amzn/kirup/dist/src/configuration/minerva.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MINERVA_RECOMMENDED=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js");t.MINERVA_RECOMMENDED={name:n.Transports.MINERVA,support:[n.Environment.DOM,n.Environment.SERVICEWORKER,n.Environment.WEBWORKER],persistence:!0,canHandleErrorObject:!0,retries:3,maxDataAge:3e5,maxRateLimit:1e4,maxBatchSize:100}},"./node_modules/@amzn/kirup/dist/src/configuration/rtla.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RTLA_RECOMMENDED=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js");t.RTLA_RECOMMENDED={name:n.Transports.RTLA,support:[n.Environment.DOM],persistence:!1,canHandleErrorObject:!1,retries:3,maxDataAge:3e5,maxRateLimit:1e4,maxBatchSize:20}},"./node_modules/@amzn/kirup/dist/src/events.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KirupEvents=void 0;t.KirupEvents=class{constructor(e){this.action=e,this.onWindowLoad=this.onWindowLoad.bind(this),this.onDocumentVisibilityChange=this.onDocumentVisibilityChange.bind(this),this.onDocumentPageHide=this.onDocumentPageHide.bind(this),this.attach()}attach(){document.addEventListener("visibilitychange",this.onDocumentVisibilityChange),document.addEventListener("pagehide",this.onDocumentPageHide),window.addEventListener("load",this.onWindowLoad)}onDocumentVisibilityChange(){this.action()}onDocumentPageHide(){this.action()}onWindowLoad(){this.action()}}},"./node_modules/@amzn/kirup/dist/src/kirup.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KirupLogger=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/kirup.js"),s=r("./node_modules/@amzn/kirup/dist/src/transports/transport.js"),o=r("./node_modules/@amzn/kirup/dist/src/transports/transport.browser.js");class i extends n.KirupLoggerBase{constructor(e){super(e,s.KirupTransport,o.loadTransportFromConfig)}}t.KirupLogger=i},"./node_modules/@amzn/kirup/dist/src/kirup.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KirupLoggerBase=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js"),s=r("./node_modules/@amzn/kirup/dist/src/events.js"),o=r("./node_modules/@amzn/kirup/dist/src/latency.js"),i=r("./node_modules/@amzn/kirup/dist/src/storage.js"),a=r("./node_modules/@amzn/kirup/dist/src/utils/environment.js"),c=r("./node_modules/@amzn/kirup/dist/src/utils/store.js"),l=r("./node_modules/@amzn/kirup/dist/src/utils/variables.js");t.KirupLoggerBase=class{constructor(e,t,r){this._env=(0,a.getCurrentEnvironment)(),this._config=this._applyConfiguration(e),this._transports=this._getTransports(t,r),this._processEntries=this._processEntries.bind(this),this._env===n.Environment.DOM&&new s.KirupEvents(this._processEntries),[n.Environment.DOM,n.Environment.WEBWORKER,n.Environment.SERVICEWORKER].includes(this._env)&&(this._storage=new i.KirupStorage),this.latency=new o.Latency(this._env,this._transports)}_applyConfiguration(e){return Object.assign(e,{transports:e.transports.filter((e=>e.support.includes(this._env)))})}_getTransports(e,t){const r=[];return this._config.transports.forEach((n=>{r.push(new e(n,t))})),r}async _processEntries(e){var t,r;for(let n=0;n<this._transports.length;n++){const s=this._transports[n];null===(r=(t=s.instance).clearSchedule)||void 0===r||r.call(t);const o=s.config.name.toString();!this._storage||void 0!==e&&e!==o||await this._storage.retrieveAndUpdate(o,s.config,(e=>{var t,r;return(null===(r=(t=s.instance).batch)||void 0===r?void 0:r.call(t,e))||Promise.resolve(e)}))}}async _processStore(e,t){var r,n;(0,c.getStoreSize)(t)>=e.config.maxBatchSize?await this._processEntries(e.config.name.toString()):null===(n=(r=e.instance).scheduleNextProcessing)||void 0===n||n.call(r,this._processEntries)}async count(e,t,r){var n,s,o,i;for(let a=0;a<this._transports.length;a++){const c=this._transports[a],l=null===(s=(n=c.config).pageContext)||void 0===s?void 0:s.call(n);if(void 0===c.config.allowLogType||c.config.allowLogType.includes("count"))if(!1===c.config.persistence)c.instance.count(e,t,r,l);else{if(!this._storage)throw new Error(`Your environment ${this._env} does not support persistence.`);{const n=await this._storage.add(c.config.name.toString(),"count",[e,t,r,l]);await this._processStore(c,n)}}null===(i=(o=c.config).postLogAction)||void 0===i||i.call(o,"count",e,t||1,this)}}async fatal(e,t,r){var n,s,o,i,a;for(let c=0;c<this._transports.length;c++){const u=this._transports[c],d=null===(s=(n=u.config).pageContext)||void 0===s?void 0:s.call(n);if(void 0===u.config.allowLogType||u.config.allowLogType.includes("fatal"))if(!1===u.config.persistence)u.instance.fatal(e,t,r,d);else{if(!this._storage)throw new Error(`Your environment ${this._env} does not support persistence.`);{const n=await this._storage.add(u.config.name.toString(),"fatal",[e,t,r,d]);await this._processStore(u,n)}}const g=null===(o=[t,r].find(l.isVariables))||void 0===o?void 0:o.logID;g&&this.count(`Fatal_${g}`),null===(a=(i=u.config).postLogAction)||void 0===a||a.call(i,"fatal",e)}}async error(e,t,r){var n,s,o,i,a;for(let c=0;c<this._transports.length;c++){const u=this._transports[c],d=null===(s=(n=u.config).pageContext)||void 0===s?void 0:s.call(n);if(void 0===u.config.allowLogType||u.config.allowLogType.includes("error"))if(!1===u.config.persistence)u.instance.error(e,t,r);else{if(!this._storage)throw new Error(`Your environment ${this._env} does not support persistence.`);{const n=await this._storage.add(u.config.name.toString(),"error",[e,t,r,d]);await this._processStore(u,n)}}const g=null===(o=[t,r].find(l.isVariables))||void 0===o?void 0:o.logID;g&&this.count(`Error_${g}`),null===(a=(i=u.config).postLogAction)||void 0===a||a.call(i,"error",e)}}async warn(e,t,r){var n,s,o,i,a;for(let c=0;c<this._transports.length;c++){const u=this._transports[c],d=null===(s=(n=u.config).pageContext)||void 0===s?void 0:s.call(n);if(void 0===u.config.allowLogType||u.config.allowLogType.includes("warn"))if(!1===u.config.persistence)u.instance.warn(e,t,r,d);else{if(!this._storage)throw new Error(`Your environment ${this._env} does not support persistence.`);{const n=await this._storage.add(u.config.name.toString(),"warn",[e,t,r,d]);await this._processStore(u,n)}}const g=null===(o=[t,r].find(l.isVariables))||void 0===o?void 0:o.logID;g&&this.count(`Warning_${g}`),null===(a=(i=u.config).postLogAction)||void 0===a||a.call(i,"warn",e)}}async info(e,t){var r,n,s,o;for(let i=0;i<this._transports.length;i++){const a=this._transports[i],c=null===(n=(r=a.config).pageContext)||void 0===n?void 0:n.call(r);if(void 0===a.config.allowLogType||a.config.allowLogType.includes("info"))if(!1===a.config.persistence)a.instance.info(e,t,c);else{if(!this._storage)throw new Error(`Your environment ${this._env} does not support persistence.`);{const r=await this._storage.add(a.config.name.toString(),"info",[e,t,c]);await this._processStore(a,r)}}null===(o=(s=a.config).postLogAction)||void 0===o||o.call(s,"info",e)}}async debug(e,t){var r,n,s,o;for(let i=0;i<this._transports.length;i++){const a=this._transports[i],c=null===(n=(r=a.config).pageContext)||void 0===n?void 0:n.call(r);if(void 0===a.config.allowLogType||a.config.allowLogType.includes("debug"))if(!1===a.config.persistence)a.instance.debug(e,t,c);else{if(!this._storage)throw new Error(`Your environment ${this._env} does not support persistence.`);{const r=await this._storage.add(a.config.name.toString(),"debug",[e,t,c]);await this._processStore(a,r)}}null===(o=(s=a.config).postLogAction)||void 0===o||o.call(s,"debug",e)}}}},"./node_modules/@amzn/kirup/dist/src/latency.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Latency=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js"),s=r("./node_modules/@amzn/kirup/dist/src/utils/environment.js"),o="kirup-navigate",i=["domInteractive","domComplete"];t.Latency=class{constructor(e,t){this._env=e,this._transports=t}navigate(){(0,s.isSupportingPerformanceTiming)()&&this._onNavigation()}_onNavigation(){performance.mark(o)}_isFromClientSideNavigation(){var e;const t=performance.getEntriesByName(o,"mark"),r=null===(e=null==t?void 0:t[0])||void 0===e?void 0:e.startTime;return Boolean(r)}_getNavigationType(){var e;const t=performance.getEntriesByType("navigation");return`${(null===(e=null==t?void 0:t[0])||void 0===e?void 0:e.type)||"unknown"}${this._isFromClientSideNavigation()?"-client":""}`}_legacyCalculateLatency(e){var t,r,n;const s=performance.getEntriesByType("navigation"),i=null===(t=null==s?void 0:s[0])||void 0===t?void 0:t.requestStart,a=performance.getEntriesByName(o,"mark"),c=null===(r=null==a?void 0:a[0])||void 0===r?void 0:r.startTime,l=performance.getEntriesByName(e,"mark"),u=null===(n=null==l?void 0:l[0])||void 0===n?void 0:n.startTime;if(void 0!==u){return u-(void 0!==c?c:i||0)}throw new Error(`You're ending a marker (${e}) that is not started and undefined (legacy).`)}_calculateLatency(e){var t,r,n,s,i;const a=performance.getEntriesByType("navigation"),c=null===(t=null==a?void 0:a[a.length-1])||void 0===t?void 0:t.startTime,l=performance.getEntriesByName(o,"mark"),u=null===(r=null==l?void 0:l[l.length-1])||void 0===r?void 0:r.startTime,d=performance.getEntriesByName(e,"mark"),g="number"==typeof(null===(n=null==a?void 0:a[a.length-1])||void 0===n?void 0:n[e])?Number(null===(s=null==a?void 0:a[a.length-1])||void 0===s?void 0:s[e]):null===(i=null==d?void 0:d[d.length-1])||void 0===i?void 0:i.startTime;if(void 0!==g){return g-(void 0!==u?u:c||0)}throw new Error(`You're ending a marker (${e}) that is not started and undefined.`)}start(e){return(0,s.isSupportingPerformanceTiming)()?(performance.mark(e),this):this}end(e){if(!(0,s.isSupportingPerformanceTiming)())return this;const t=`${e}-end`;performance.mark(t);const r=performance.measure("duration",e,t).duration;return this._transports.forEach((t=>{(void 0===t.config.allowLogType||t.config.allowLogType.includes("count"))&&t.instance.count(e,r)})),this}clickToATF(){this.clickToX("atf")}clickToCF(){this.clickToX("cf")}clickToInteractive(){this.clickToX("ci")}clickToX(e){if(this._env!==n.Environment.DOM)throw new Error(`Your environment ${this._env} does not support clickTo* metrics.`);(0,s.isSupportingPerformanceTiming)()&&(performance.mark(e),this._transports.forEach((t=>{(void 0===t.config.allowLogType||t.config.allowLogType.includes("count"))&&t.instance.count(e,this._legacyCalculateLatency(e))})))}timeToInteractive(e){this.timeToX("timeToInteractive",e)}timeToATF(e){this.timeToX("timeToATF",e)}timeToCF(e){this.timeToX("timeToCF",e)}timeToX(e,t){if(this._env!==n.Environment.DOM)throw new Error(`Your environment ${this._env} does not support timeTo* metrics.`);(0,s.isSupportingPerformanceTiming)()&&(i.includes(e)||performance.mark(e),this._transports.forEach((r=>{(void 0===r.config.allowLogType||r.config.allowLogType.includes("count"))&&r.instance.count(e,this._calculateLatency(e),{NavigationType:this._getNavigationType(),DeviceType:r.config.deviceType||"Desktop",Pivot:t?Object.entries(t).map((([e,t])=>`${e}=${t}`)).join("|"):"NONE"})})))}}},"./node_modules/@amzn/kirup/dist/src/storage.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KirupStorage=t.EMPTY_STORE=void 0;const n=r("./node_modules/idb-keyval/dist/index.js"),s=r("./node_modules/@amzn/kirup/dist/src/utils/errorObject.js");t.EMPTY_STORE={debug:[],info:[],warn:[],error:[],fatal:[],count:[]};t.KirupStorage=class{constructor(){this.queue=Promise.resolve(t.EMPTY_STORE)}enqueue(e){return this.queue=this.queue.then((()=>e()),(()=>e())),this.queue}add(e,t,r){return this.enqueue((()=>(0,n.get)(e).then((o=>{const i=o||{};return i[t]||(i[t]=[]),r[0]instanceof Error&&(r[0]=(0,s.errorToObject)(r[0])),i[t].push({time:Date.now(),args:r}),(0,n.set)(e,i).then((()=>i))}))))}retrieveAndUpdate(e,r,n){return this.enqueue((()=>this.retrieve(e,r).then((r=>r?n(r).then((r=>r?this.updateStore(e,r):t.EMPTY_STORE)):t.EMPTY_STORE))))}updateStore(e,t){return(0,n.set)(e,t).then((()=>t))}retrieve(e,r){const o=Date.now();return(0,n.get)(e).then((e=>{var n,i,a,c,l,u;return e?(e.count=null===(n=e.count)||void 0===n?void 0:n.filter((e=>o-e.time<r.maxDataAge)),e.debug=null===(i=e.debug)||void 0===i?void 0:i.filter((e=>o-e.time<r.maxDataAge)),e.info=null===(a=e.info)||void 0===a?void 0:a.filter((e=>o-e.time<r.maxDataAge)),e.warn=null===(c=e.warn)||void 0===c?void 0:c.filter((e=>o-e.time<r.maxDataAge)).map((e=>(r.canHandleErrorObject&&e.args&&(0,s.isErrorObject)(e.args[0])&&(e.args[0]=(0,s.objectToError)(e.args[0])),e))),e.error=null===(l=e.error)||void 0===l?void 0:l.filter((e=>o-e.time<r.maxDataAge)).map((e=>(r.canHandleErrorObject&&e.args&&(0,s.isErrorObject)(e.args[0])&&(e.args[0]=(0,s.objectToError)(e.args[0])),e))),e.fatal=null===(u=e.fatal)||void 0===u?void 0:u.filter((e=>o-e.time<r.maxDataAge)).map((e=>(r.canHandleErrorObject&&e.args&&(0,s.isErrorObject)(e.args[0])&&(e.args[0]=(0,s.objectToError)(e.args[0])),e))),e):t.EMPTY_STORE}))}}},"./node_modules/@amzn/kirup/dist/src/transports/base.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransportBase=void 0;t.TransportBase=class{constructor(e){this.config=e}scheduleNextProcessing(e){void 0===this.timeout&&(this.timeout=setTimeout((async()=>{await e(this.config.name.toString())}),this.config.maxRateLimit))}clearSchedule(){clearTimeout(this.timeout),this.timeout=void 0}}},"./node_modules/@amzn/kirup/dist/src/transports/console/console.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("./node_modules/@amzn/kirup/dist/src/utils/errorOverload.js"),s=r("./node_modules/@amzn/kirup/dist/src/transports/base.js");class o extends s.TransportBase{batch(e){var t,r,n,s,o,i;return e.debug=null===(t=e.debug)||void 0===t?void 0:t.filter((e=>!this.debug(e.args[0],e.args[1]))),e.info=null===(r=e.info)||void 0===r?void 0:r.filter((e=>!this.info(e.args[0],e.args[1]))),e.warn=null===(n=e.warn)||void 0===n?void 0:n.filter((e=>!this.warn(e.args[0],e.args[1],e.args[2]))),e.error=null===(s=e.error)||void 0===s?void 0:s.filter((e=>!this.error(e.args[0],e.args[1],e.args[2]))),e.fatal=null===(o=e.fatal)||void 0===o?void 0:o.filter((e=>!this.fatal(e.args[0],e.args[1],e.args[2]))),e.count=null===(i=e.count)||void 0===i?void 0:i.filter((e=>!this.count(e.args[0],e.args[1],e.args[2]))),Promise.resolve(e)}count(e,t,r){return"number"==typeof t&&r?this._countDimensionValue(e,t,r):"number"==typeof t?this._countValue(e,t):t&&!r?this._countDimension(e,t):this._countName(e),!0}_countName(e){console.log(`count: ${e}`)}_countValue(e,t){console.log(`count: ${e}, value: ${t}`)}_countDimension(e,t){console.log(`count: ${e}, dimensions: `,t)}_countDimensionValue(e,t,r){console.log(`count: ${e}, value: ${t}, dimensions: `,r)}fatal(e,t,r){return n.untangleOverload.call(this,"fatal",e,t,r),!0}_fatalMessage(e){console.error(`fatal: ${e}`)}_fatalWithError(e){console.error(e)}_fatalWithErrorAndMessage(e,t){console.error(`fatal: ${e}`,t)}_fatalWithVariables(e,t){console.error(`fatal: ${e}`,t)}_fatalWithErrorAndVariables(e,t,r){console.error(`fatal: ${e}`,t,r)}error(e,t,r){return n.untangleOverload.call(this,"error",e,t,r),!0}_errorMessage(e){console.error(`error: ${e}`)}_errorWithErrorAndMessage(e,t){console.error(`error: ${e}`,t)}_errorWithError(e){console.error(e)}_errorWithVariables(e,t){console.error(`error: ${e}`,t)}_errorWithErrorAndVariables(e,t,r){console.error(`error: ${e}`,t,r)}warn(e,t,r){return n.untangleOverload.call(this,"warn",e,t,r),!0}_warnMessage(e){console.warn(`warn: ${e}`)}_warnWithErrorAndMessage(e,t){console.warn(`warn: ${e}`,t)}_warnWithError(e){console.warn(e)}_warnWithVariables(e,t){console.warn(`warn: ${e}`,t)}_warnWithErrorAndVariables(e,t,r){console.warn(`warn: ${e}`,t,r)}info(e,t){return t?this._infoWithVariables(e,t):this._infoMessage(e),!0}_infoMessage(e){console.info(`info: ${e}`)}_infoWithVariables(e,t){console.info(`info: ${e}`,t)}debug(e,t){return t?this._debugWithVariables(e,t):this._debugMessage(e),!0}_debugMessage(e){console.debug(`debug: ${e}`)}_debugWithVariables(e,t){console.debug(`debug: ${e}`,t)}}t.default=o},"./node_modules/@amzn/kirup/dist/src/transports/insights/insights.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("./node_modules/@amzn/kirup/dist/src/utils/errorOverload.js"),s=r("./node_modules/@amzn/kirup/dist/src/transports/base.js");class o extends s.TransportBase{constructor(e){super(e),this.config=e,this.instance=e.getInstance()}_getAttribution(e){return this.config.attribution&&this.config.attribution(e)||"Kirup"}count(e,t,r,n){return this.config.getInstance().enqueueEvent({message:`[COUNT] ${e}:${"object"!=typeof t?"number"!=typeof t?1:t:JSON.stringify(t)} ${r?JSON.stringify(r):""}`.trim(),stack:"NONE"},"INFO",this._getAttribution(n)),!0}_formatLog(e,t){return this.config.formatLog?this.config.formatLog(e,t).trim():e.trim()}fatal(e,t,r,s){return n.untangleOverload.call(this,"fatal",e,t,r,s),!0}_fatalMessage(e,t){this.config.getInstance().enqueueEvent({message:this._formatLog(e,"fatal"),stack:"NONE"},"FATAL",this._getAttribution(t))}_fatalWithError(e,t){this.config.getInstance().enqueueEvent({message:this._formatLog(e.message,"fatal"),stack:e.stack},"FATAL",this._getAttribution(t))}_fatalWithErrorAndMessage(e,t,r){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${t.toString()}`,"fatal"),stack:t.stack},"FATAL",this._getAttribution(r))}_fatalWithVariables(e,t,r){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${JSON.stringify(t)}`,"fatal"),stack:"NONE"},"FATAL",this._getAttribution(r))}_fatalWithErrorAndVariables(e,t,r,n){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${t.toString()} ${JSON.stringify(r)}`,"fatal"),stack:t.stack},"FATAL",this._getAttribution(n))}error(e,t,r,s){return n.untangleOverload.call(this,"error",e,t,r,s),!0}_errorMessage(e,t){this.config.getInstance().enqueueEvent({message:this._formatLog(e,"error"),stack:"NONE"},"ERROR",this._getAttribution(t))}_errorWithError(e,t){this.config.getInstance().enqueueEvent({message:this._formatLog(e.message,"error"),stack:e.stack},"ERROR",this._getAttribution(t))}_errorWithErrorAndMessage(e,t,r){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${t.toString()}`,"error"),stack:t.stack},"ERROR",this._getAttribution(r))}_errorWithVariables(e,t,r){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${JSON.stringify(t)}`,"error"),stack:"NONE"},"ERROR",this._getAttribution(r))}_errorWithErrorAndVariables(e,t,r,n){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${t.toString()} ${JSON.stringify(r)}`,"error"),stack:t.stack},"ERROR",this._getAttribution(n))}warn(e,t,r,s){return n.untangleOverload.call(this,"warn",e,t,r),!0}_warnMessage(e,t){this.config.getInstance().enqueueEvent({message:this._formatLog(e,"warn"),stack:"NONE"},"WARN",this._getAttribution(t))}_warnWithErrorAndMessage(e,t,r){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${t.toString()}`,"warn"),stack:t.stack},"WARN",this._getAttribution(r))}_warnWithError(e,t){this.config.getInstance().enqueueEvent({message:this._formatLog(e.message,"warn"),stack:e.stack},"WARN",this._getAttribution(t))}_warnWithVariables(e,t,r){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${JSON.stringify(t)}`,"warn"),stack:"NONE"},"WARN",this._getAttribution(r))}_warnWithErrorAndVariables(e,t,r,n){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${t.toString()} ${JSON.stringify(r)}`,"warn"),stack:t.stack},"WARN",this._getAttribution(n))}info(e,t,r){return t?this._infoWithVariables(e,t):this._infoMessage(e),!0}_infoMessage(e,t){this.config.getInstance().enqueueEvent({message:this._formatLog(e,"info"),stack:"NONE"},"INFO",this._getAttribution(t))}_infoWithVariables(e,t,r){this.config.getInstance().enqueueEvent({message:this._formatLog(`${e} ${JSON.stringify(t)}`,"info"),stack:"NONE"},"INFO",this._getAttribution(r))}debug(){return!0}}t.default=o},"./node_modules/@amzn/kirup/dist/src/transports/minerva/minerva.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("./node_modules/@amzn/minerva-ts-client/dist/index.js"),s=r("./node_modules/@amzn/kirup/dist/src/utils/errorOverload.js"),o=r("./node_modules/@amzn/kirup/dist/src/utils/store.js"),i=r("./node_modules/@amzn/kirup/dist/src/transports/base.js");class a extends i.TransportBase{constructor(e){var t,r;super(e),this._fixedValue=e=>Number(e.toFixed(4)),this.config=e,this.metrics=this._setMetrics(e.metrics);const s={deviceInfoProvider:e.deviceInfoProvider,kpiMetricsSchemaIdentifier:e.kpiMetricsSchemaIdentifier||{schemaId:"ckpi/2/00f30233",groupId:"aminerva"}},o={getConfig:e.getConfig},i={getAccessToken:e.getAccessToken?e.getAccessToken:()=>{}},a={isChildProfile:e.isChildProfile?e.isChildProfile:()=>!1},c={isUsageCollectionEnabled:e.isUsageCollectionEnabled?e.isUsageCollectionEnabled:()=>!0};this.client=new n.MinervaTSClient(o,i,a,c,s),null===(r=(t=this.config).getLogger)||void 0===r||r.call(t).then((e=>{this.logger=e,this.client.setLogger(e)}))}_setMetrics(e){const t=new Map;return e.forEach((e=>{t.set(e.name,{schemaId:e.schemaId,groupId:e.groupId})})),t}tryCatch(e){var t;try{return e()}catch(e){return null===(t=this.logger)||void 0===t||t.error(e.toString()),!1}}async batch(e){var t,r,n,s,i,a;return 0===(0,o.getStoreSize)(e)||(e.debug=null===(t=e.debug)||void 0===t?void 0:t.filter((e=>this.tryCatch((()=>!this.debug(e.args[0],e.args[1]))))),e.info=null===(r=e.info)||void 0===r?void 0:r.filter((e=>this.tryCatch((()=>!this.info(e.args[0],e.args[1]))))),e.warn=null===(n=e.warn)||void 0===n?void 0:n.filter((e=>this.tryCatch((()=>!this.warn(e.args[0],e.args[1],e.args[2]))))),e.error=null===(s=e.error)||void 0===s?void 0:s.filter((e=>this.tryCatch((()=>!this.error(e.args[0],e.args[1],e.args[2]))))),e.fatal=null===(i=e.fatal)||void 0===i?void 0:i.filter((e=>this.tryCatch((()=>!this.fatal(e.args[0],e.args[1],e.args[2]))))),e.count=null===(a=e.count)||void 0===a?void 0:a.filter((e=>this.tryCatch((()=>!this.count(...e.args))))),await this.client.forceUpload()),Promise.resolve(e)}count(e,t,r,n){return"number"==typeof t&&r?this._recordIntegerMetricEvent(e,t,r,n):"number"==typeof t?this._recordIntegerMetricEvent(e,t,{},n):t&&!r?this._recordIntegerMetricEvent(e,1,t,n):this._recordIntegerMetricEvent(e,1,{},n),!0}_recordIntegerMetricEvent(e,t=1,r={},s){var o,i;const a=this.metrics.get(e);if(!a)throw new Error(`Minerva metric with name ${e} has not been configured.`);{if(null===(i=(o=this.config).filter)||void 0===i?void 0:i.call(o,e))return;const c=Object.entries(r).filter((([,e])=>"number"==typeof e)).reduce(((e,[t,r])=>(e[t]=r,e)),{});void 0===c.Count&&(c.Count=this._fixedValue(t));const l=Object.entries(r).filter((([,e])=>"string"==typeof e)).reduce(((e,[t,r])=>(e[t]={val:r,dataType:n.MinervaValueDataType.STRING},e)),{}),u=this.config.getDefaultDimensions(s);Object.keys(c).forEach((t=>{const r={keyValuePairs:{[e]:{val:this._fixedValue(c[t]),dataType:n.MinervaValueDataType.DOUBLE},Metric:{val:t,dataType:n.MinervaValueDataType.STRING},...l,...u},minervaMetricIdentifier:a};this.client.record(r)}))}}_formatLog(e,t){return this.config.formatLog?this.config.formatLog(e,t).trim():e.trim()}_recordStringMetricEvent(e,t,r,s={}){const o=this.metrics.get(e);if(!o)throw new Error(`Minerva metric with name ${e} has not been configured.`);{const i={};Object.keys(s).forEach((e=>{i[e]={val:s[e],dataType:n.MinervaValueDataType.STRING}}));const a={keyValuePairs:{[e]:{val:this._formatLog(`${t}${r?` ${r.toString()}`:""}`,e),dataType:n.MinervaValueDataType.STRING},...i},minervaMetricIdentifier:o};this.client.record(a)}}fatal(e,t,r){return s.untangleOverload.call(this,"fatal",e,t,r),!0}_fatalMessage(e){this._recordStringMetricEvent("fatal",e)}_fatalWithError(e){this._recordStringMetricEvent("fatal","",e)}_fatalWithErrorAndMessage(e,t){this._recordStringMetricEvent("fatal",e,t)}_fatalWithVariables(e,t){this._recordStringMetricEvent("fatal",e,void 0,t)}_fatalWithErrorAndVariables(e,t,r){this._recordStringMetricEvent("fatal",e,t,r)}error(e,t,r){return s.untangleOverload.call(this,"error",e,t,r),!0}_errorMessage(e){this._recordStringMetricEvent("error",e)}_errorWithError(e){this._recordStringMetricEvent("error","",e)}_errorWithErrorAndMessage(e,t){this._recordStringMetricEvent("error",e,t)}_errorWithVariables(e,t){this._recordStringMetricEvent("error",e,void 0,t)}_errorWithErrorAndVariables(e,t,r){this._recordStringMetricEvent("error",e,t,r)}warn(e,t,r){return s.untangleOverload.call(this,"warn",e,t,r),!0}_warnMessage(e){this._recordStringMetricEvent("warn",e)}_warnWithError(e){this._recordStringMetricEvent("warn","",e)}_warnWithErrorAndMessage(e,t){this._recordStringMetricEvent("warn",e,t)}_warnWithVariables(e,t){this._recordStringMetricEvent("warn",e,void 0,t)}_warnWithErrorAndVariables(e,t,r){this._recordStringMetricEvent("warn",e,t,r)}info(e,t){return t?this._infoWithVariables(e,t):this._infoMessage(e),!0}_infoMessage(e){this._recordStringMetricEvent("info",e)}_infoWithVariables(e,t){this._recordStringMetricEvent("info",e,void 0,t)}debug(e,t){return t?this._debugWithVariables(e,t):this._debugMessage(e),!0}_debugMessage(e){this._recordStringMetricEvent("debug",e)}_debugWithVariables(e,t){this._recordStringMetricEvent("debug",e,void 0,t)}}t.default=a},"./node_modules/@amzn/kirup/dist/src/transports/rtla/rtla.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("./node_modules/@amzn/kirup/dist/src/utils/errorOverload.js"),s=r("./node_modules/@amzn/kirup/dist/src/transports/base.js");class o extends s.TransportBase{constructor(e){super(e),this.config=e}_getAttribution(e){return this.config.attribution(e)||"Kirup"}count(){return!0}_logRTLA(e,t){"undefined"!=typeof window&&void 0!==window.ueLogError&&window.ueLogError(e,t)}_formatLog(e,t){return this.config.formatLog?this.config.formatLog(e,t).trim():e.trim()}fatal(e,t,r,s){return n.untangleOverload.call(this,"fatal",e,t,r,s),!0}_fatalMessage(e,t){this._logRTLA(new Error(e),{logLevel:"FATAL",attribution:this._getAttribution(t),message:this._formatLog(e,"fatal")})}_fatalWithError(e,t){this._logRTLA(e,{logLevel:"FATAL",attribution:this._getAttribution(t),message:this._formatLog(e.message,"fatal")})}_fatalWithErrorAndMessage(e,t,r){this._logRTLA(t,{logLevel:"FATAL",attribution:this._getAttribution(r),message:this._formatLog(e,"fatal")})}_fatalWithVariables(e,t,r){this._logRTLA(new Error(e),{logLevel:"FATAL",attribution:this._getAttribution(r),message:this._formatLog(`${e} ${JSON.stringify(t)}`,"fatal")})}_fatalWithErrorAndVariables(e,t,r,n){this._logRTLA(t,{logLevel:"FATAL",attribution:this._getAttribution(n),message:this._formatLog(`${e} ${t.toString()} ${JSON.stringify(r)}`,"fatal")})}error(e,t,r,s){return n.untangleOverload.call(this,"error",e,t,r,s),!0}_errorMessage(e,t){this._logRTLA(new Error(e),{logLevel:"ERROR",attribution:this._getAttribution(t),message:this._formatLog(e,"error")})}_errorWithError(e,t){this._logRTLA(e,{logLevel:"ERROR",attribution:this._getAttribution(t),message:this._formatLog(e.message,"error")})}_errorWithErrorAndMessage(e,t,r){this._logRTLA(t,{logLevel:"ERROR",attribution:this._getAttribution(r),message:this._formatLog(e,"error")})}_errorWithVariables(e,t,r){this._logRTLA(new Error(e),{logLevel:"ERROR",attribution:this._getAttribution(r),message:this._formatLog(`${e} ${JSON.stringify(t)}`,"error")})}_errorWithErrorAndVariables(e,t,r,n){this._logRTLA(t,{logLevel:"ERROR",attribution:this._getAttribution(n),message:this._formatLog(`${e} ${t.toString()} ${JSON.stringify(r)}`,"error")})}warn(e,t,r,s){return n.untangleOverload.call(this,"warn",e,t,r),!0}_warnMessage(e,t){this._logRTLA(new Error(e),{logLevel:"WARN",attribution:this._getAttribution(t),message:this._formatLog(e,"warn")})}_warnWithErrorAndMessage(e,t,r){this._logRTLA(t,{logLevel:"WARN",attribution:this._getAttribution(r),message:this._formatLog(e,"warn")})}_warnWithError(e,t){this._logRTLA(e,{logLevel:"WARN",attribution:this._getAttribution(t),message:this._formatLog(e.message,"warn")})}_warnWithVariables(e,t,r){this._logRTLA(new Error(e),{logLevel:"WARN",attribution:this._getAttribution(r),message:this._formatLog(`${e} ${JSON.stringify(t)}`,"warn")})}_warnWithErrorAndVariables(e,t,r,n){this._logRTLA(t,{logLevel:"WARN",attribution:this._getAttribution(n),message:this._formatLog(`${e} ${t.toString()} ${JSON.stringify(r)}`,"warn")})}info(){return!0}debug(){return!0}}t.default=o},"./node_modules/@amzn/kirup/dist/src/transports/transport.browser.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadTransportFromConfig=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js"),s=r("./node_modules/@amzn/kirup/dist/src/transports/console/console.js"),o=r("./node_modules/@amzn/kirup/dist/src/transports/insights/insights.js"),i=r("./node_modules/@amzn/kirup/dist/src/transports/minerva/minerva.js"),a=r("./node_modules/@amzn/kirup/dist/src/transports/rtla/rtla.js");t.loadTransportFromConfig=function(e){let t;switch(e.name){case n.Transports.CONSOLE:t=new s.default(e);break;case n.Transports.MINERVA:if(!function(e){return void 0!==e.metrics&&void 0!==e.getConfig&&void 0!==e.deviceInfoProvider&&void 0!==e.getDefaultDimensions}(e))throw new Error("Minerva Transport is not configured correctly");t=new i.default(e);break;case n.Transports.INSIGHTS:if(!function(e){return void 0!==e.getInstance}(e))throw new Error("Insights Transport is not configured correctly");t=new o.default(e);break;case n.Transports.RTLA:if(!function(e){return void 0!==e.attribution}(e))throw new Error("RTLA Transport is not configured correctly");t=new a.default(e);break;default:throw new Error(`Unknown Transport name: ${e.name}`)}return t}},"./node_modules/@amzn/kirup/dist/src/transports/transport.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KirupTransport=void 0;t.KirupTransport=class{constructor(e,t){this.config=e,this.instance=t(e)}}},"./node_modules/@amzn/kirup/dist/src/utils/environment.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentEnvironment=t.isSupportingPerformanceTiming=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/configuration.js");function s(){return"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function o(){return"undefined"!=typeof self&&"undefined"!=typeof ServiceWorkerGlobalScope&&self instanceof ServiceWorkerGlobalScope}function i(){return!1==("undefined"==typeof window&&"undefined"==typeof document)&&!1===o()&&!1===s()}function a(){return i()?n.Environment.DOM:o()?n.Environment.SERVICEWORKER:s()?n.Environment.WEBWORKER:n.Environment.NODE}t.isSupportingPerformanceTiming=function(){var e,t,r,s,o,i,c,l;return a()!==n.Environment.DOM||"performance"in window&&void 0!==window.performance.mark&&void 0!==(null===(s=null===(r=null===(t=(e=window.performance).getEntriesByType)||void 0===t?void 0:t.call(e,"navigation"))||void 0===r?void 0:r[0])||void 0===s?void 0:s.domInteractive)&&void 0!==(null===(l=null===(c=null===(i=(o=window.performance).getEntriesByType)||void 0===i?void 0:i.call(o,"navigation"))||void 0===c?void 0:c[0])||void 0===l?void 0:l.domComplete)},t.getCurrentEnvironment=a},"./node_modules/@amzn/kirup/dist/src/utils/errorObject.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorObject=t.objectToError=t.errorToObject=void 0,t.errorToObject=function(e){return{message:e.message,name:e.name,stack:e.stack}},t.objectToError=function(e){const t=new Error(e.message);return t.name=e.name,t.stack=e.stack,t},t.isErrorObject=function(e){return"object"==typeof e&&null!=e&&"string"==typeof e.name&&"string"==typeof e.message}},"./node_modules/@amzn/kirup/dist/src/utils/errorOverload.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.untangleOverload=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/utils/variables.js");t.untangleOverload=function(e,t,r,s,o){let i="",a=null,c=null;"string"==typeof t?(i=t,(0,n.isVariables)(r)&&(c=r)):t instanceof Error&&(a=t,"string"==typeof r?(i=r,(0,n.isVariables)(s)&&(c=s)):(0,n.isVariables)(r)&&(c=r)),a&&c?this[`_${e}WithErrorAndVariables`](i,a,c,o):a&&i?this[`_${e}WithErrorAndMessage`](i,a,o):a?this[`_${e}WithError`](a,o):c?this[`_${e}WithVariables`](i,c,o):this[`_${e}Message`](i,o)}},"./node_modules/@amzn/kirup/dist/src/utils/store.js":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreSize=void 0;const n=r("./node_modules/@amzn/kirup/dist/src/@types/storage.js");t.getStoreSize=e=>n.LogTypes.reduce(((t,r)=>{var n;return t+((null===(n=e[r])||void 0===n?void 0:n.length)||0)}),0)},"./node_modules/@amzn/kirup/dist/src/utils/variables.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVariables=void 0,t.isVariables=function(e){return"object"==typeof e&&null!==e&&!(e instanceof Error)}},"./src/entrypoints/hydration/cbl.tsx":(e,t,r)=>{"use strict";var n=r("./src/util/hydration/hydrateWidgets.tsx"),s=r("./src/util/wrappers/LoggersContext.tsx"),o=r("./node_modules/react/index.js"),i=r("./src/util/csm/csm.tsx"),a=r("./src/util/logger/kirup.ts"),c=r("./node_modules/@amzn/dvui/dist/Block.js"),l=(r("./src/shared/Stores/context.ts"),r("./src/util/api/WPSClient.ts"));let u=function(e){return e[e.CODE_ENTRY=0]="CODE_ENTRY",e[e.SUCCESS=1]="SUCCESS",e}({});const d=new l.e,g=(e,t,r,n)=>{if(e===u.CODE_ENTRY)return{content:t.content,messages:t.messages,token:t.token||"",code:r,submitDisable:n}},m=(e,t)=>{if(e===u.SUCCESS)return{content:t.content,messages:t.messages,primeUpsellWidget:t.primeUpsellWidget}},p=/^[A-Z0-9]{5,6}$/,h=/[A-Z0-9]+/,f=(e,t=6)=>{const r=e.toUpperCase().match(h);return r&&0!==r.length?r[0].slice(0,t):""};var v=r("./node_modules/@amzn/dvui/dist/Button.js"),_=r("./node_modules/@amzn/dvui/dist/Container.js"),E=r("./node_modules/@amzn/dvui/dist/DVUI.js"),b=r("./node_modules/@amzn/dvui/dist/Alert.js"),y=r("./node_modules/@amzn/dvui/dist/FormRow.js"),w=r("./node_modules/@amzn/dvui/dist/HeadingBlock.js"),O=r("./node_modules/@amzn/dvui/dist/Input.js"),S=r("./node_modules/@amzn/dvui/dist/Landmark.js"),T=r("./node_modules/@amzn/dvui/dist/Logo.js"),k=r("./node_modules/@amzn/dvui/dist/Panel.js"),M=r("./node_modules/@amzn/dvui/dist/SectionAlt.js"),L=r("./node_modules/@amzn/dvui/dist/Text.js");let N=function(e){return e.Success="Success",e.Warning="Warning",e.Error="Error",e}({});var j=r("./node_modules/classnames/index.js");const R="Kv5xss",A="b61kOt",C="qa2L3C",D="wMq++j",W="mN2RK8",P="+ZXY8W",x="Kw+L7u",I="u-vfIM",$="_7bmeSn",z="_39utWK",V="ID0V2Q",B="sjyD2o",F="VbRVNU",H="_2TNSkF",U="_5CYcAF",K="QXPQH7",q="MAagmq",Z="uf8x9m",Y="tM5Vk5",G="ZAaPM7",J="WDpZGm",X="_3jzn4X",Q="TWyFX0",ee="_6gjeGx",te="BQT-33",re="U9JLmo",ne="E-RVyO",se="U0EcoA",oe="_735rc7",ie="kiijCh",ae=e=>{const{itemSpacing:t}=e,r=j(e.className,ee,{[re]:t===C,[te]:t===D,[ne]:t===W,[se]:t===P,[oe]:t===x,[ie]:e.justify});return o.createElement("div",{className:r},e.children)};function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ce.apply(this,arguments)}function le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ae.displayName="FlexList";const ue=e=>o.createElement("div",{className:`${$} ${W}`,key:`step_${e.index}`},o.createElement("h3",null,e.title),o.createElement("p",null,e.content)),de=e=>{const{severity:t,index:r,title:n}=e,s=t===N.Error?b.ErrorAlert:b.WarningAlert;return o.createElement(s,{className:W,key:`message_${r}`},n)},ge=e=>{if(e.length)return e[0].severity===N.Error?O.InputTypes.error:O.InputTypes.warning};class me extends o.Component{constructor(e){super(e),le(this,"componentDidMount",(()=>{return e=this.props.code,t=this.props.logger,void(e&&t.count("pvCblPrefilledCblCode",1,!1));var e,t})),le(this,"clearInput",(()=>this.setState({code:""}))),le(this,"handleInput",(e=>{const t=e.currentTarget.value;this.setState(((e,r)=>({code:e.isOnComposition?t:f(t)})))})),le(this,"submitForm",(e=>{var t;e.preventDefault(),t=this.state.code,p.test(t)&&this.props.submitForm(this.state.code,this.props.token,this.clearInput)})),le(this,"handleCompositionEnd",(e=>this.setState({code:f(e.currentTarget.value),isOnComposition:!1}))),le(this,"handleCompositionStartUpdate",(e=>this.setState({isOnComposition:!0}))),this.state={code:e.code,isOnComposition:!1}}render(){const{content:e,isRetail:t,token:r,submitDisable:n}=this.props,s=this.props.messages||[];return o.createElement(E.DVUI,null,o.createElement(M.SectionAlt,{testID:"cbl-code-entry"},o.createElement(w.HeadingBlock,{className:`${H} ${P}`},o.createElement(S.Landmark,null,o.createElement(_.Container,{className:I},o.createElement("h1",null,e.heading)))),o.createElement(_.Container,{className:`${B} ${I}`},o.createElement(k.Panel,null,o.createElement(k.PanelSection,null,(e=>e&&o.createElement(T.Logo,{use:T.LogoOptions.brand,className:`${F} ${W}`}))(t),o.createElement("h2",{className:W},e.title),o.createElement("p",{className:P},e.intro),o.createElement("form",{method:"post",className:P,onSubmit:this.submitForm},s.map(((e,t)=>o.createElement(de,ce({},e,{index:t})))),o.createElement(y.FormRow,{className:R},o.createElement("label",{htmlFor:"av-cbl-code"},e.codeLabel),o.createElement(O.Input,{type:"text",placeholder:e.codePlaceholder,autoComplete:"off",id:"av-cbl-code",name:"code",maxLength:6,pattern:"[A-Z0-9a-z]{5,6}",className:A,value:this.state.code,use:ge(s),onChange:this.handleInput,onCompositionStart:this.handleCompositionStartUpdate,onCompositionUpdate:this.handleCompositionStartUpdate,onCompositionEnd:this.handleCompositionEnd,required:!0}),o.createElement("input",{type:"hidden",name:"csrfToken",value:r}),o.createElement(v.Button,{use:v.Primary,type:"submit",textAlign:"center",disabled:!r||n,"aria-hidden":n,noWrap:!0},e.buttonText))),o.createElement("div",null,o.createElement(L.Text,{string:e.termsText}))),o.createElement(k.PanelSection,null,o.createElement("h2",{className:W},e.helpTitle),o.createElement(ae,{justify:!0,itemSpacing:W},e.steps.map(((e,t)=>o.createElement(ue,ce({},e,{index:t,key:`cbl-step-${t}`}))))))))))}}var pe=r("./node_modules/@amzn/dvui/dist/Spacer.js");function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},he.apply(this,arguments)}const fe=e=>{const{severity:t,title:r,content:n}=e;let s=c.MessageTypes.success;switch(t){case N.Error:s=c.MessageTypes.error;break;case N.Warning:s=c.MessageTypes.warning;break;case N.Success:default:s=c.MessageTypes.success}return o.createElement(c.MessageBlock,{testID:`cbl-message-block-${s}`,type:s,className:`${V} ${P}`,heading:r},o.createElement(L.Text,{string:n}))},ve=e=>{const{description:t,signupURL:r,title:n,backgroundImage:s,logo:i}=e;return o.createElement(_.Container,{className:`${q} ${P}`,testID:"cbl-prime-upsell-widget"},o.createElement("a",{href:r,className:Z},o.createElement("img",{className:J,src:i,alt:"Prime Video"}),o.createElement(L.Text,{className:X,string:n}),t&&o.createElement(L.Text,{className:Q,string:t})),o.createElement("a",{href:r,className:G},o.createElement("img",{className:Y,src:s,alt:n})))},_e=e=>{const t=`${z}`,{devicesButton:r,parentalControlsButton:n,paymentSettingsButton:s,settingsTitle:i}=e.content,a=e.primeUpsellWidget;return o.createElement(E.DVUI,null,o.createElement(M.SectionAlt,{className:U,testID:"cbl-success-page"},e.messages.map(((e,t)=>o.createElement(fe,he({},e,{key:`sp_message_${t}`})))),a&&o.createElement(ve,a),o.createElement(_.Container,{className:`${B} ${I} ${P} ${K}`},o.createElement(k.Panel,null,o.createElement(k.PanelSection,null,o.createElement("h2",{className:W},i),o.createElement(pe.Spacer,null,o.createElement(v.Button,{className:t,textAlign:"center",href:r.href,testID:"cbl-devices-button"},r.text),o.createElement(v.Button,{className:t,textAlign:"center",href:n.href,testID:"cbl-parental-controls-button"},n.text),s&&o.createElement(v.Button,{className:t,textAlign:"center",href:s.href,testID:"cbl-payment-settings-button"},s.text)))))))};function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ee.apply(this,arguments)}function be(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ye=o.createElement("style",null,"\n            #cbl-symphony-slot {\n                display: none\n            }\n        "),we="cbl-register";class Oe extends o.Component{constructor(e){super(e),be(this,"componentDidMount",(()=>{(0,i.KL)(),a.c.latency.timeToInteractive()})),be(this,"componentDidUpdate",((e,t)=>{t.registerCsmScopeCounter!=this.state.registerCsmScopeCounter&&((0,i.BP)(we,!1),(0,i.BI)(we,!1),(0,i.TF)(we),(0,i.QS)(we,!1))})),be(this,"beforeSubmitForm",(e=>{this.setState(((t,r)=>{const n=t.codeEntry?{...t.codeEntry,submitDisable:!0,code:e}:void 0;return{...t,...n&&{codeEntry:n}}}))})),be(this,"monitorLinkSuccessAndFailures",(e=>{const{logger:t}=this.props;e?(t.count("pvCblLinkSuccess",1,!1),this.state.linkFailuresBeforeSuccessCount>0&&t.count("pvCblLinkFailuresBeforeSuccess",this.state.linkFailuresBeforeSuccessCount,!1)):t.count("pvCblLinkFail",1,!1)})),be(this,"afterReceiveFormResponse",((e,t,r)=>{const n="atv.wps#CodeBasedLinkingLandingPage"===e.content.__type?u.CODE_ENTRY:u.SUCCESS;this.monitorLinkSuccessAndFailures(r),this.setState(((s,o)=>{const i=r?0:s.linkFailuresBeforeSuccessCount+1;return{...s,pageToShow:n,showMerchandiserSlot:(a=n,c=e,a===u.SUCCESS&&c.content.showMerchandiserSlot),codeEntry:g(n,e,t,r),successPage:m(n,e),showErrorMessage:!1,linkFailuresBeforeSuccessCount:i,registerCsmScopeCounter:s.registerCsmScopeCounter+1};var a,c}))})),be(this,"afterReceiveFormFailure",(()=>{this.monitorLinkSuccessAndFailures(!1),this.setState(((e,t)=>{const r=e.codeEntry?{...e.codeEntry,submitDisable:!1}:void 0,n=e.linkFailuresBeforeSuccessCount+1;return{...e,...r&&{codeEntry:r},showErrorMessage:!0,linkFailuresBeforeSuccessCount:n}}))})),be(this,"submitForm",(async(e,t,r)=>{this.beforeSubmitForm(e);const{context:n,isPurchaseRow:s}=this.state;(0,i._D)(we),(0,i.d0)(we),await d.CodeBasedLinking({context:n,publicCode:e,token:t,isPurchaseRow:s}).then((t=>{t.requestID&&(0,i.E2)(we,t.requestID),(0,i.lQ)(we);const n=t.isSuccess;this.afterReceiveFormResponse(t,n?e:"",n),r()})).catch((e=>{this.afterReceiveFormFailure(),this.props.logger.fatal("Error calling remote CBL.",e),r()}))})),be(this,"getMessageBlock",(()=>{var e;return null!==(e=this.props.codeEntry)&&void 0!==e&&e.content.fallbackErrorMessage?o.createElement(c.MessageBlock,{type:c.MessageTypes.error},o.createElement(L.Text,{string:this.props.codeEntry.content.fallbackErrorMessage})):this.state.showErrorMessage&&this.state.codeEntry?o.createElement(c.MessageBlock,{type:c.MessageTypes.error},this.state.codeEntry.content.errorMessage):o.createElement(o.Fragment,null)})),this.state={...e,showErrorMessage:!1,linkFailuresBeforeSuccessCount:0,registerCsmScopeCounter:0}}render(){return o.createElement("div",{"data-automation-id":"code-based-linking"},this.getMessageBlock(),this.state.pageToShow===u.CODE_ENTRY&&this.state.codeEntry&&o.createElement(me,Ee({},this.state.codeEntry,{isRetail:this.state.isRetail,submitForm:this.submitForm,submitDisable:this.state.codeEntry.submitDisable||!1,logger:this.props.logger})),this.state.pageToShow===u.SUCCESS&&this.state.successPage&&o.createElement(_e,this.state.successPage),!this.state.showMerchandiserSlot&&ye)}}const Se={name:"cbl",getProps:undefined,getHydrationArgs:e=>{const{authenticationToken:t,...r}=e;return r},Component:(0,s.ty)(Oe)};(0,n.y)(Se)},"./src/shared/Stores/context.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getRequestContext:()=>i,isInternal:()=>l,isRetail:()=>u,setRequestContext:()=>a,updateRequestContext:()=>c});var n=r("./node_modules/zustand/esm/vanilla.mjs"),s=r("./src/util/utils/htmlEncode.ts");const o=(0,n.M)((()=>({context:void 0}))),i=()=>{let e;var t;if(e=o.getState().context,void 0===e&&"undefined"!=typeof window&&window.DVWebNode&&(e=null===(t=window.DVWebNode.stores)||void 0===t?void 0:t.getState().context),void 0===e&&"undefined"!=typeof window&&(e=(()=>{var e;window.DVWebNode||(window.DVWebNode={perfMetrics:{}}),window.DVWebNode.stores||(window.DVWebNode.stores=(0,n.M)((()=>({context:void 0}))));const t=null===(e=document.getElementById("dvwebnode-context"))||void 0===e?void 0:e.innerHTML;if(t)try{const e=JSON.parse((0,s.He)(t)),r=(0,s.Mt)(e),n=(0,s.ob)(r);return window.DVWebNode.stores.setState({context:n}),n}catch(e){"undefined"!=typeof window&&window.ueLogError&&window.ueLogError(e,{logLevel:"ERROR",message:"Unable to parse RequestContext in inline-head-start-scripts"})}else"undefined"!=typeof window&&window.ueLogError&&window.ueLogError(new Error("Element with id=dvwebnode-context not found"),{logLevel:"ERROR",message:"Unable to parse RequestContext in inline-head-start-scripts"})})()),void 0===e)throw new Error("Attempting to retrieve a RequestContext that is currently not set in the Zustand stores");return e},a=e=>{o.setState({context:e}),"undefined"!=typeof window&&window.DVWebNode&&(void 0===window.DVWebNode.stores&&(window.DVWebNode.stores=(0,n.M)((()=>({context:void 0})))),window.DVWebNode.stores.setState({context:e}))},c=e=>{const t=i();a({...t,...e})},l=()=>i().isInternal,u=()=>"Retail"===i().domain},"./src/shared/deviceProxy/marketplaceUtils.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{getCompanyName:()=>a,getDeviceProxyEndpoint:()=>s,getRatingBadgeLocale:()=>c,getRegionFromMarketplaceId:()=>o,getStringFromMarketplaceId:()=>i});var n=r("./src/util/utils/marketplace.ts");const s=(e,t)=>{let r="";switch(r=(0,n.is)()===n.wQ.ROW&&t?t:o(e),r){case n.yp.EU:return`atv-ps-eu${(0,n.is)()}`;case n.yp.FE:return`atv-ps-fe${(0,n.is)()}`;case n.yp.NA:default:return`atv-ps${(0,n.is)()}`}},o=e=>{switch(e){case n.HZ.UK:case n.HZ.DE:case n.HZ.ROW_EU:case n.HZ.ROE_EU:return n.yp.EU;case n.HZ.JP:case n.HZ.ROW_FE:return n.yp.FE;case n.HZ.US:case n.HZ.ROW_NA:default:return n.yp.NA}},i=e=>{switch(e){case n.HZ.UK:return"UK";case n.HZ.DE:return"DE";case n.HZ.ROW_EU:return"ROWEU";case n.HZ.ROE_EU:return"ROEEU";case n.HZ.JP:return"JP";case n.HZ.ROW_FE:return"ROWFE";case n.HZ.US:return"US";case n.HZ.ROW_NA:return"ROWNA";default:return"UNKNOWN"}},a=e=>{switch(e){case n.HZ.UK:return"Amazon Digital UK Limited";case n.HZ.DE:return"Amazon.com Int'l Sales, Inc";case n.HZ.JP:return"Amazon.com Sales, Inc";case n.HZ.US:default:return"Amazon.com Services LLC"}},c=e=>{switch(e){case n.HZ.UK:return"uk";case n.HZ.DE:return"de";default:return}}},"./node_modules/@amzn/dvui/dist/HeadingBlock.css":(e,t,r)=>{"use strict";r.r(t)}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,s,o)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,s,o]=e[u],a=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(a=!1,o<i&&(i=o));if(a){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=3766,(()=>{var e={3766:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var s,o,[i,a,c]=r,l=0;if(i.some((t=>0!==e[t]))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(c)var u=c(n)}for(t&&t(r);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunk_amzn_dvwebnode=self.webpackChunk_amzn_dvwebnode||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=n.O(void 0,[1216,9351],(()=>n("./src/entrypoints/hydration/cbl.tsx")));s=n.O(s)})();
//# sourceMappingURL=http://sourcemaps.aka.amazon.com/187ff6f25c3fd8b763d62df49e6baf770d1b29ebd372d38cb2044475df76d178a8a63bdd0924e4cd13d07428bf88b374f9f841880ea2bb4426cb9107c4604e5c8743a434ab0cdc92e4035b50730bca46e1094b09e760b893ffdeb931f1cc755ebbeb6817a688b34eae2e883d4bbe280d5a15f4ce3ecae11b3285fe2ee9dbe9532cdcb7c5a432772556e590de8cb7188d304b93f3aaab64a3e520087b654df63a620c0beecbb70956592c7c610b63013f25d26aa1512c6f6b6314c3a0e437efed88ad9efe4bea2f5c12b6d02eb7d55da3d7b0b35eaa5cbb64a556511ae36a054db649637b994b08355fe49466d44261bcdd8a3d2c638f6a364aef76b1f3dd97e6?np=1